@page "/"

@if (visibleElement == VisibleElement.NewAndOpenWizard)
{
	<NewOrOpenWizard OnNewClickCallback="@CreateNewContainer" OnOpenClickCallback="@OpenExistingContainer" />
}
else if (visibleElement == VisibleElement.CreateNewCommonSecretsContainer)
{
	<CreateNewCommonSecretsContainer OnCancelClickCallback="@CancelNewCommonSecretsContainerCreation" OnCreateClickCallback="@CreateNewCommonSecretsContainerCreation" />
}
else if (visibleElement == VisibleElement.ShowLoginInformations)
{
	<CommonSecretsTopNav OnLoginsClickCallback="@TopNavShowLoginInformations" OnNotesClickCallback="@TopNavShowNotes" OnFilesClickCallback="@TopNavShowFiles" OnContactsClickCallback="@TopNavShowContacts" OnPaymentCardsClickCallback="@TopNavShowPaymentCards" />
	<ShowLoginInformations Logins="@logins" />
}
else if (visibleElement == VisibleElement.ShowNotes)
{
	<CommonSecretsTopNav OnLoginsClickCallback="@TopNavShowLoginInformations" OnNotesClickCallback="@TopNavShowNotes" OnFilesClickCallback="@TopNavShowFiles" OnContactsClickCallback="@TopNavShowContacts" OnPaymentCardsClickCallback="@TopNavShowPaymentCards" />
}
else if (visibleElement == VisibleElement.ShowFiles)
{
	<CommonSecretsTopNav OnLoginsClickCallback="@TopNavShowLoginInformations" OnNotesClickCallback="@TopNavShowNotes" OnFilesClickCallback="@TopNavShowFiles" OnContactsClickCallback="@TopNavShowContacts" OnPaymentCardsClickCallback="@TopNavShowPaymentCards" />
}
else if (visibleElement == VisibleElement.ShowContacts)
{
	<CommonSecretsTopNav OnLoginsClickCallback="@TopNavShowLoginInformations" OnNotesClickCallback="@TopNavShowNotes" OnFilesClickCallback="@TopNavShowFiles" OnContactsClickCallback="@TopNavShowContacts" OnPaymentCardsClickCallback="@TopNavShowPaymentCards" />
}
else if (visibleElement == VisibleElement.ShowPaymentCards)
{
	<CommonSecretsTopNav OnLoginsClickCallback="@TopNavShowLoginInformations" OnNotesClickCallback="@TopNavShowNotes" OnFilesClickCallback="@TopNavShowFiles" OnContactsClickCallback="@TopNavShowContacts" OnPaymentCardsClickCallback="@TopNavShowPaymentCards" />
}
else
{
	<p>Should not be visible!</p>
}


@code {

	public enum VisibleElement
	{
		NewAndOpenWizard,
		CreateNewCommonSecretsContainer,
		OpenExistingCommonSecretsContainer,
		ShowLoginInformations,
		ShowNotes,
		ShowFiles,
		ShowContacts,
		ShowPaymentCards,
	}

	private VisibleElement visibleElement = VisibleElement.NewAndOpenWizard;

	private List<LoginSimplified> logins = new List<LoginSimplified>();

	// Wizard
	private void CreateNewContainer(MouseEventArgs e)
	{
		visibleElement = VisibleElement.CreateNewCommonSecretsContainer;
	}

	private void OpenExistingContainer(MouseEventArgs e)
	{
		//visibleElement = VisibleElement.OpenExistingCommonSecretsContainer;

		logins = new List<LoginSimplified>() 
		{
			new LoginSimplified() 
			{
				IsSecure = true,
				Title = "Fake service",
				URL = "https://fakeservice.com",
				Email = "sample@email.com",
				Username = "Dragon",
				Password = "gwWTY#Â¤&%36",
				Category = "Samples",
				Tags = "Samples Demo",
			},
			new LoginSimplified() 
			{
				IsSecure = false,
				Title = "Fake mail",
				URL = "https://fakemail.com",
				Email = "sample@email.com",
				Username = "Dragon",
				Password = "Si0bSww5bYeKp7Rs",
				Category = "Samples",
				Tags = "Samples Demo",
			},
		};

		visibleElement = VisibleElement.ShowLoginInformations;
	}

	// Create new common secrets container
	private void CancelNewCommonSecretsContainerCreation(MouseEventArgs e)
	{
		visibleElement = VisibleElement.NewAndOpenWizard;
	}

	private void CreateNewCommonSecretsContainerCreation(MouseEventArgs e)
	{

	}

	// TopNav actions
	private void TopNavShowLoginInformations(MouseEventArgs e)
	{
		visibleElement = VisibleElement.ShowLoginInformations;
	}

	private void TopNavShowNotes(MouseEventArgs e)
	{
		visibleElement = VisibleElement.ShowNotes;
	}

	private void TopNavShowFiles(MouseEventArgs e)
	{
		visibleElement = VisibleElement.ShowFiles;
	}

	private void TopNavShowContacts(MouseEventArgs e)
	{
		visibleElement = VisibleElement.ShowContacts;
	}

	private void TopNavShowPaymentCards(MouseEventArgs e)
	{
		visibleElement = VisibleElement.ShowPaymentCards;
	}
}