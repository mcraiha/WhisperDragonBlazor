@page "/"

@if (visibleElement == VisibleElement.NewAndOpenWizard)
{
	<NewOrOpenWizard OnNewClickCallback="@CreateNewContainer" OnOpenClickCallback="@OpenExistingContainer" OnGeneratePasswordsCallback="@CreateNewPassword" />
}
else if (visibleElement == VisibleElement.CreateNewCommonSecretsContainer)
{
	<CreateNewCommonSecretsContainer OnCancelClickCallback="@CancelNewCommonSecretsContainerCreation" OnCreateClickCallback="@CreateNewCommonSecretsContainerCreation" />
}
else if (visibleElement == VisibleElement.ShowRandomPasswordCreator)
{
	<CreateRandomPassword />
}
else if (visibleElement == VisibleElement.ShowLoginInformations)
{
	<CommonSecretsTopNav OnLoginsClickCallback="@TopNavShowLoginInformations" OnNotesClickCallback="@TopNavShowNotes" OnFilesClickCallback="@TopNavShowFiles" OnContactsClickCallback="@TopNavShowContacts" OnPaymentCardsClickCallback="@TopNavShowPaymentCards" />
	<ShowLoginInformations Logins="@logins" />
}
else if (visibleElement == VisibleElement.ShowNotes)
{
	<CommonSecretsTopNav OnLoginsClickCallback="@TopNavShowLoginInformations" OnNotesClickCallback="@TopNavShowNotes" OnFilesClickCallback="@TopNavShowFiles" OnContactsClickCallback="@TopNavShowContacts" OnPaymentCardsClickCallback="@TopNavShowPaymentCards" />
	<ShowNotes Notes="@notes" />
}
else if (visibleElement == VisibleElement.ShowFiles)
{
	<CommonSecretsTopNav OnLoginsClickCallback="@TopNavShowLoginInformations" OnNotesClickCallback="@TopNavShowNotes" OnFilesClickCallback="@TopNavShowFiles" OnContactsClickCallback="@TopNavShowContacts" OnPaymentCardsClickCallback="@TopNavShowPaymentCards" />
	<ShowFiles Files="@files" />
}
else if (visibleElement == VisibleElement.ShowContacts)
{
	<CommonSecretsTopNav OnLoginsClickCallback="@TopNavShowLoginInformations" OnNotesClickCallback="@TopNavShowNotes" OnFilesClickCallback="@TopNavShowFiles" OnContactsClickCallback="@TopNavShowContacts" OnPaymentCardsClickCallback="@TopNavShowPaymentCards" />
	<ShowContacts Contacts="@contacts" />
}
else if (visibleElement == VisibleElement.ShowPaymentCards)
{
	<CommonSecretsTopNav OnLoginsClickCallback="@TopNavShowLoginInformations" OnNotesClickCallback="@TopNavShowNotes" OnFilesClickCallback="@TopNavShowFiles" OnContactsClickCallback="@TopNavShowContacts" OnPaymentCardsClickCallback="@TopNavShowPaymentCards" />
	<ShowPaymentCards PaymentCards="@paymentCards" />
}
else
{
	<p>Should not be visible!</p>
}


@code {

	public enum VisibleElement
	{
		NewAndOpenWizard,
		CreateNewCommonSecretsContainer,
		OpenExistingCommonSecretsContainer,
		ShowRandomPasswordCreator,
		ShowLoginInformations,
		ShowNotes,
		ShowFiles,
		ShowContacts,
		ShowPaymentCards,
	}

	private VisibleElement visibleElement = VisibleElement.NewAndOpenWizard;

	private List<LoginSimplified> logins = new List<LoginSimplified>();

	private List<NoteSimplified> notes = new List<NoteSimplified>();

	private List<FileSimplified> files = new List<FileSimplified>();

	private List<ContactSimplified> contacts = new List<ContactSimplified>();

	private List<PaymentCardSimplified> paymentCards = new List<PaymentCardSimplified>();

	// Wizard
	private void CreateNewContainer(MouseEventArgs e)
	{
		visibleElement = VisibleElement.CreateNewCommonSecretsContainer;
	}

	private void OpenExistingContainer(MouseEventArgs e)
	{
		//visibleElement = VisibleElement.OpenExistingCommonSecretsContainer;

		logins = new List<LoginSimplified>() 
		{
			new LoginSimplified() 
			{
				IsSecure = true,
				Title = "Fake service",
				URL = "https://fakeservice.com",
				Email = "sample@email.com",
				Username = "Dragon",
				Password = "gwWTY#Â¤&%36",
				Category = "Samples",
				Tags = "Samples Demo",
			},
			new LoginSimplified() 
			{
				IsSecure = false,
				Title = "Fake mail",
				URL = "https://fakemail.com",
				Email = "sample@email.com",
				Username = "Dragon",
				Password = "Si0bSww5bYeKp7Rs",
				Category = "Samples",
				Tags = "Samples Demo",
			},
		};

		notes = new List<NoteSimplified>()
		{
			new NoteSimplified()
			{
				IsSecure = true,
				Title = "Shopping list",
				Text = "Butter, milk, eggs, cucumber"
			},
			new NoteSimplified()
			{
				IsSecure = false,
				Title = "TODO list",
				Text = "Call elevator repair person"
			}
		};

		files = new List<FileSimplified>()
		{
			new FileSimplified()
			{
				IsSecure = true,
				Filename = "nature.jpg",
				Filesize = "234 kB",
				Filetype = "JPEG"
			},
			new FileSimplified()
			{
				IsSecure = false,
				Filename = "cv.docx",
				Filesize = "83 kB",
				Filetype = "Microsoft Word document"
			}
		};

		contacts = new List<ContactSimplified>()
		{
			new ContactSimplified()
			{
				IsSecure = true,
				FirstName = "Hanna",
				LastName = "Hard Worker",
				Emails = "hanna@localhost (work)",
				PhoneNumbers = "1-800-123123 (work)"
			},
			new ContactSimplified()
			{
				IsSecure = true,
				FirstName = "Mike",
				LastName = "Madr",
				Emails = "mike@localhost (work)",
				PhoneNumbers = "1-800-123321 (home)"
			}
		};

		paymentCards = new List<PaymentCardSimplified>()
		{
			new PaymentCardSimplified()
			{
				IsSecure = true,
				Title = "Dragon credit",
				NameOnTheCard = "Dave Dragon",
				CardType = "Credit",
				Number = "4024007105746837",
				SecurityCode = "678"
			},
			new PaymentCardSimplified()
			{
				IsSecure = false,
				Title = "Fire bank",
				NameOnTheCard = "Dave teh Dragon",
				CardType = "Debit",
				Number = "4024007182777473",
				SecurityCode = "599"
			}
		};

		visibleElement = VisibleElement.ShowLoginInformations;
	}

	private void CreateNewPassword(MouseEventArgs e)
	{
		visibleElement = VisibleElement.ShowRandomPasswordCreator;
	}

	// Create new common secrets container
	private void CancelNewCommonSecretsContainerCreation(MouseEventArgs e)
	{
		visibleElement = VisibleElement.NewAndOpenWizard;
	}

	private void CreateNewCommonSecretsContainerCreation(MouseEventArgs e)
	{

	}

	// TopNav actions
	private void TopNavShowLoginInformations(MouseEventArgs e)
	{
		visibleElement = VisibleElement.ShowLoginInformations;
	}

	private void TopNavShowNotes(MouseEventArgs e)
	{
		visibleElement = VisibleElement.ShowNotes;
	}

	private void TopNavShowFiles(MouseEventArgs e)
	{
		visibleElement = VisibleElement.ShowFiles;
	}

	private void TopNavShowContacts(MouseEventArgs e)
	{
		visibleElement = VisibleElement.ShowContacts;
	}

	private void TopNavShowPaymentCards(MouseEventArgs e)
	{
		visibleElement = VisibleElement.ShowPaymentCards;
	}
}